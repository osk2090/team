<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.osk.team.dao.MemberDao">
  
  <resultMap id="memberMap" type="member">
    <id column="no" property="no"/>
    <result column="name" property="name"/>
    <result column="email" property="email"/>
    <result column="photo" property="photo"/>
    <result column="birth" property="birth"/>
    <result column="tel" property="tel"/>
    <result column="gender" property="gender"/>
    <result column="count" property="count"/>
    
  </resultMap>
  
  <insert id="insert" parameterType="member">
    insert into member(name, password, email, photo, birth, tel, gender)
    values (#{name}, password(#{password}), #{email}, #{photo}, #{birth}, #{tel}, #{gender})
  </insert>
  
  <select id="findByMember" resultMap="memberMap" parameterType="int">
    select
      no,
      name,
      email,
      photo,
      birth,
      tel,
      gender,
      count
    from member
    where mno = #{value}
  </select>
  
  <update id="update" parameterType="member">
    update member
    set photo = #{mphoto},
        password = password(#{mpwd})
    where no = #{no}
  </update>

  <delete id="delete" parameterType="int">
    delete mno
    from member
    where mno = #{value}
  </delete>

</mapper>







